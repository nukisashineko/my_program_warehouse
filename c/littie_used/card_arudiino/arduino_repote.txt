
//序章
あるどいのテクニック（脱初心者編）タクトスイッチの活用
あるどいのは一から全てを知ろうとするとものすごい時間がかかります
なので、回路の基本となるスイッチについて説明します。
//スイッチの種類
例として
タクトスイッチ、	PUSHで電流が流れるスイッチと言われれば誰もが思いつくアイツです
トグルスイッチ、レバーを操作して電流を操作します。（家庭の照明のスイッチなどに使われてます）
フォトスイッチ、感光体に当たる光の強弱によって電流が流れるようになる（センサーの一種で、外灯などに使われている）
//タクトスイッチを推す
この中でも、身近にあるタクトスイッチを今回は紹介します。
タクトスイッチは押すとスイッチが反応するという。
すごく簡単な作りのスイッチで操作方法がわかりやすいため普及しています。
//タクトスイッチの使用例
テレビのリモコンとかパソコンのキーボードとか
炊飯器のボタンとか全部そうです。
//タクトスイッチの仕様の違い
タクトスイッチはタクトスイッチでも長押しを効くものと効かないものがあります。
その違いはあるのか？と聞かれたら無いと答えます。
//回路でもプログラムでも作れることを言う
回路でプログラムでもこの動作は作ることができます。
ここでは、プログラムの動作を紹介していきます。
//プログラムのことを紹介すること
プログラムは全て基本的に英語で書きます。
しかし、心配しないでください。
その一行一行にコメントという注釈がつきます。
プログラムは誰もが理解できるようにつけることが常識です。
//種類＿長押し
例えば長押しがきくボタンは

while(1){	//この中括弧に覆われている部分をループします。
	button=digitalRead(SWITCH);//スイッチからデジタル入力を「ボタン」という変数に格納します。
	if(button==HIGH)		//もし、「ボタン」がHIGH（スイッチON）なら
		digitalWrite(TV,HIGH);//テレビにデジタル出力でHIGH（スイッチON）として音量1だけを上げろと命令します。
}
//種類＿長押し無効ボタン（チャタリング防止無し）
今度は長押しを無効化してみます。
while(1){	//この中括弧に覆われている部分をループします。
	button=digitalRead(SWITCH);//スイッチからデジタル入力を「ボタン」という変数に格納します。
	if(old_button==LOW && button==HIGH)	
			//もし、「直前のボタン」がLOW（スイッチOFF）であり「ボタン」がHIGH（スイッチON）なら
		digitalWrite(TV,HIGH);//テレビにデジタル出力でHIGH（スイッチON）として音量1だけを上げろと命令します
}
つまり、押されてない状態の後に押された瞬間だけスイッチが反応する仕組みになるように作りました。
これで、１PUSHで一回だけ反応する。
長押しを無効化するボタンができたように思えます。
しかし、繊細なコンピュータはこれだけの工夫だけではきちんと反応してくれないのです。
//チャタリングの説明
理由はコンピュータの反応速度にあります。
数億分の一秒の世界で世界を切り取って、状況を判断してしまうのです。
何が問題かというと、人間にはボタンを押した瞬間、すぐにスイッチが入ったと思えるのですが
実際にはスイッチは押されて地面に当たると跳ね返りまたすぐに押されて地面に当たり……を繰り返し
最終的に地面に完全に密着するという動作をしています。
それをコンピューターは感知してしまい、押した瞬間に数度の入力が入ってしまい動作が起きます
これをチャタリングと言います
//種類＿長押し無効ボタン（チャタリング防止有り）
さっきのに、
while(1){	//この中括弧に覆われている部分をループします。
	button=digitalRead(SWITCH);//スイッチからデジタル入力を「ボタン」という変数に格納します。
	if(old_button==LOW && button==HIGH)	
			//もし、「直前のボタン」がLOW（スイッチOFF）であり「ボタン」がHIGH（スイッチON）なら
		digitalWrite(TV,HIGH);//テレビにデジタル出力でHIGH（スイッチON）として音量1だけを上げろと命令します
		delay(500);//0.5秒入力の読み取りを待ちなさい
}
読み取りを停止する時間を設けます。
これによって、チャタリングが起きている時間の入力を読み取らなくて良くなり
誤作動を防ぐことができます。
//まとめ
プログラムで長押しが有効と無効なスイッチを紹介させていただきました。
これによって、あるどいのテクニック（脱初心者編）を終わりにさせて頂きます。
これで、ほんのほんの少しだけでもあるどいのに触れていただけたでしょうか。
これで少しでも、プログラムに興味を持っていただけたら幸いです。

//絞殺
今回のスイッチのように普段簡単に使っているものにも誤作動を防ぐ仕組みがついています。
二通りしか使い方のないタクトスイッチは要するに同じものであって、
改造の仕方によって振る舞いを変えています。
つまり、既存のものを改造して、より使いやすく、他のボタンを変化させることができるのです。
「モノ」が使いづらいな。‎と思った時に少し勉強して自分のためになにか作ったり改造をしてみてください。
そこに、あなたが新しい「なにか」に出会いが待っていることを「arduino」にであった私達は期待しています。

